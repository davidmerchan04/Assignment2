<html>

<title>Assignment #2</title>

<script src="https://d3js.org/d3.v4.js"></script>
<style>

td,th { 
  width: 200px;
  border: 1px solid black;
  text-align: center;
  class: 
}

td{
background-color: blue;
}

</style>

</head>

<body>
 <h1>Point 2</h1> 
 
<p> Plot automatically a data table by selecting the data from the files data1.csv, data2.csv and data3.csv </p>

 
<!--According with the class code --> 
<p> If you select some option a table will appear </p>
  <select onchange="dialog()" id='selector' class="select-css">
          Select the data 
      </option>
      <option value="data1.csv">Data 1</option>
      <option value="data2.csv" selected>Data 2</option>
      <option value="data3.csv">Data 3</option>
   </select>

<div id="d3table"></div>

<script>

function dialog(){
dshow ="data2.csv"
var v=document.getElementById('selector').value;
if (v != "data2.csv"){
   dshow=v;}else{
   dshow ="data2.csv";
  }

// this function start again the selector
function myfun(){
  var Table = document.getElementById('d3table').innerHTML = ''
}
myfun()


d3.csv(v,data=> {
d3.select("#d3table")
.append("thead")
.append("tr")
.selectAll("th")
.data(Object.keys(data[0]))
.enter()
.append('th')
.text(d=> d)
.attr('name',d=>d);

d3.select("#d3table")
.append('tbody')
.selectAll("tr")
.data(data)
.enter()
.append('tr')
.selectAll('td')
.data(d=> Object.entries(d))
.enter()
.append('td')
.text(d=>d[1]) 
.attr('name',d=> d[0]);

})

}
</script>




</body>
</html>

